{"remainingRequest":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\src\\views\\person\\components\\mysetion\\myorder.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\src\\views\\person\\components\\mysetion\\myorder.vue","mtime":1595203186158},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IHsgZ2V0TXlPZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vbmV0d29yay9wZXJzb24nCiAgaW1wb3J0IHsgYWRkY29tbWVudCB9IGZyb20gJ0AvbmV0d29yay9hZGRjb21tZW50JwogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG5hbWU6ICJteW9yZGVyIiwKICAgICAgIGRhdGEoKXsKICAgICAgICAgcmV0dXJuewogICAgICAgICAgZ2V0Y2xhc3M6IDAsCiAgICAgICAgICBhY3RpdmU6IGZhbHNlLArjgIDjgIDjgIDjgIDjgIAgYnV0dG9ubGlzdDogWwrjgIDjgIDjgIDjgIDjgIAgIHtzZWxlY3Q6J+WFqOmDqOiuouWNlSd9LArjgIDjgIDjgIDjgIDjgIDjgIB7c2VsZWN0OiflvoXmlK/ku5gnfSwK44CA44CA44CA44CA44CA44CAe3NlbGVjdDon5bey5Y+W5raI55qE6K6i5Y2VJ30sCuOAgOOAgOOAgOOAgOOAgOOAgOOAgCAgIOOAgF0sCiAgICAgICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgICAgICBkaXJlY3Rpb246ICdydGwnLAogICAgICAgICAgIE15b3JkZXI6W10sCiAgICAgICAgICAgb3JkZXJsaXN0OltdLAogICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICBmb3JtOiB7CiAgICAgICAgICAgIENvbnRlbnQ6ICcnLAogICAgICAgICAgICBPcmRlck51bTogJycsCiAgICAgICAgICAgIFN0YXI6NCwKICAgICAgICAgIH0sCiAgICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcKICAgICAgICB9CiAgICAgICB9LAogICAgICAgY29tcHV0ZWQ6ewogICAgICAgICAgICAgIHR5cGVsaXN0KCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGkpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coaSk7CiAgICAgICAgICAgIGxldCByZXM7CiAgICAgICAgICAgIHN3aXRjaCAoTnVtYmVyKGkpKSB7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gIuacquS7mOasviI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICByZXMgPSAi5bey5LuY5qy+IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9ICLmnKrlj5HotKciOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gIuW3suWPkei0pyI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSAi5bey5pS26LSnIjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9ICLlt7LlrozmiJAiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJlcyA9ICLorqLljZXmnInor68iOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgIH0sCiAgICAgICBtZXRob2RzOiB7CiAgICAgICAgb3BlbjEoKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgIG1lc3NhZ2U6ICfov5nmmK/kuIDmnaHmiJDlip/nmoTmj5DnpLrmtojmga8nLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgICAgY2hhbmdlY2xhc3MoaW5kZXhzKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0Y2xhc3MgPSBpbmRleHMKICAgICAgICB9LAogICAgICAgIG9wZW4yKCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+aBreWWnOS9oO+8jOW3sue7j+S7mOasvuaIkOWKnycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgICBnZXRNeU9kZXIoc3RhdGUpewogICAgICAgICAgZ2V0TXlPZGVyKHN0YXRlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuTXlvcmRlciA9cmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHBpbmdsdW4oZGF0YSxpbmRleCkgewogICAgICAgICAgZGF0YS5PcmRlck51bSA9dGhpcy5NeW9yZGVyWzJdW2luZGV4XS5vcmRlcm51bTsKICAgICAgICAgIGFkZGNvbW1lbnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIAogICAgICB9LAogICAgICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldE15T2RlcigwKQogICAgICB9IAogICAgfQo="},{"version":3,"sources":["myorder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"myorder.vue","sourceRoot":"src/views/person/components/mysetion","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"box\" v-if=\"Myorder.length>0\">\r\n      <div class=\"header\">\r\n\r\n          <img src=\"../mydd.gif\" alt=\"\"  class=\"tu\">\r\n\r\n\r\n        <div class=\"text\">\r\n          <p class=\"name\">{{Myorder[0][0].NAME}}</p>\r\n          <p>{{Myorder[0][0].userTypeName}}</p>\r\n          <p>累计消费:{{Myorder[0][0].totalMoney}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"season\">\r\n        <h3>我的订单</h3>\r\n        <div v-for=\"(items,indexs) in buttonlist\" @click=\"changeclass(indexs)\" :class=\"{'change':getclass == indexs}\" class=\"daiZhiFu\"  v-on:click=\"getMyOder(indexs)\">{{ items.select }}</div>\r\n      </div>\r\n      <div class=\"footer\">\r\n        <table class=\"footerorder\">\r\n            <thead>\r\n              <th>订单商品</th>\r\n              <th>收货人</th>\r\n              <th>订单金额</th>\r\n              <th>下单时间</th>\r\n              <th>订单状态</th>\r\n              <th>操作</th>\r\n            </thead>\r\n            <tr v-for=\"(item, index) in Myorder[2]\"\r\n            :key=\"item.id\"\r\n            name=\"item.id\">\r\n              <td>\r\n                订单编号：\r\n                <span>{{ item.ordernum }}</span>\r\n              </td>\r\n              <td>{{ item.New_Name }}</td>\r\n              <td>￥{{ item.TotalPrice }}</td>\r\n              <td>{{ item.CreateDate | dateFmt('YYYY-MM-DD HH:mm:ss')}}</td>\r\n              <td v-text=\"typelist(item.State)\"></td>\r\n              <td>  \r\n                  <div>\r\n                    <el-button  @click=\"open2\" type=\"text\" >\r\n                      <div class=\"mem-btn\">\r\n                      付款\r\n                      </div>\r\n                    </el-button>\r\n                  </div>\r\n                  <div>\r\n                    <el-button type=\"text\" @click=\"dialogFormVisible = true\">\r\n                      <div class=\"mem-btn\">\r\n                        评论\r\n                      </div>\r\n                    </el-button>\r\n                  </div>\r\n                  <el-dialog title=\"订单评价\" :visible.sync=\"dialogFormVisible\">\r\n                    <el-form :model=\"form\">\r\n                      <el-form-item label=\"请为订单打分\" :label-width=\"formLabelWidth\">\r\n                        <el-rate\r\n                          v-model=\"form.Star\"\r\n                          show-text>\r\n                        </el-rate>\r\n                      </el-form-item>\r\n                      <el-form-item label=\"请您评价订单\" :label-width=\"formLabelWidth\">\r\n                        <el-input v-model=\"form.Content\" autocomplete=\"off\"></el-input>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                    <div slot=\"footer\" class=\"dialog-footer\">\r\n                      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                      <el-button type=\"primary\" plain\r\n                    @click=\"dialogFormVisible = false \" @click.native=\"pinglun(form,index)\">确 定\r\n                      </el-button>\r\n                    </div>\r\n                  </el-dialog>\r\n                  <div>\r\n                    <el-button type=\"text\" @click=\"drawer = true\">\r\n                      <div class=\"mem-btn\">\r\n                        查看\r\n                      </div>\r\n                    </el-button>\r\n                  </div>\r\n                  <el-drawer\r\n                    size=\"50%\"\r\n                    :visible.sync=\"drawer\"\r\n                    :direction=\"direction\">\r\n                    <h2>查看商品详情</h2>\r\n                    <div class=\"drawbox\"  v-for=\"(itemp, indexp) in Myorder[1]\" \r\n                    :key=\"item.id\"\r\n                    name=\"item.id\" \r\n                    v-if=\"item.ordernum == itemp.OrderNum\">\r\n                        <div class=\"draw\">\r\n                          {{ itemp.Pro_Name }}\r\n                        </div>\r\n                        <div>\r\n                          <img :src=\"require(`@/assets/images/${itemp.Pro_Url}`)\">\r\n                        </div>\r\n                        <div class=\"draw\">\r\n                          {{ itemp.Num }}件\r\n                        </div>\r\n                        <div class=\"draw\">\r\n                          单价￥{{ itemp.Price }}\r\n                        </div>\r\n                    </div>\r\n                  </el-drawer>\r\n              </td>\r\n            </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getMyOder } from '../../../../network/person'\r\n  import { addcomment } from '@/network/addcomment'\r\n    export default {\r\n        name: \"myorder\",\r\n       data(){\r\n         return{\r\n          getclass: 0,\r\n          active: false,\r\n　　　　　 buttonlist: [\r\n　　　　　  {select:'全部订单'},\r\n　　　　　　{select:'待支付'},\r\n　　　　　　{select:'已取消的订单'},\r\n　　　　　　　   　],\r\n           drawer: false,\r\n           direction: 'rtl',\r\n           Myorder:[],\r\n           orderlist:[],\r\n           dialogFormVisible: false,\r\n           form: {\r\n            Content: '',\r\n            OrderNum: '',\r\n            Star:4,\r\n          },\r\n        formLabelWidth: '120px'\r\n        }\r\n       },\r\n       computed:{\r\n              typelist() {\r\n          return function(i) {\r\n            console.log(i);\r\n            let res;\r\n            switch (Number(i)) {\r\n              case 2:\r\n                res = \"未付款\";\r\n                break;\r\n              case 1:\r\n                res = \"已付款\";\r\n                break;\r\n              case 3:\r\n                res = \"未发货\";\r\n                break;\r\n              case 4:\r\n                res = \"已发货\";\r\n                break;\r\n              case 5:\r\n                res = \"已收货\";\r\n                break;\r\n              case 5:\r\n                res = \"已完成\";\r\n                break;\r\n              default:\r\n                res = \"订单有误\";\r\n                break;\r\n            }\r\n            return res;\r\n          };\r\n        },\r\n       },\r\n       methods: {\r\n        open1() {\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '这是一条成功的提示消息',\r\n          type: 'success'\r\n        });\r\n      },\r\n        changeclass(indexs) {\r\n            this.getclass = indexs\r\n        },\r\n        open2() {\r\n        this.$message({\r\n          message: '恭喜你，已经付款成功',\r\n          type: 'success'\r\n        });\r\n      },\r\n        getMyOder(state){\r\n          getMyOder(state).then(res => {\r\n            this.Myorder =res.data.data;\r\n            })\r\n        },\r\n        pinglun(data,index) {\r\n          data.OrderNum =this.Myorder[2][index].ordernum;\r\n          addcomment(data).then(res => {\r\n          })\r\n        },\r\n        \r\n      },\r\n       created() {\r\n        this.getMyOder(0)\r\n      } \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .active{\r\n    color:red;\r\n  }　\r\n　.unactive{\r\n  color:#000;\r\n  }\r\n .box{\r\n   width: 970px;\r\n   height: 540px;\r\n  position: absolute;\r\n   top: 60px;\r\n   right: 7%;\r\n   /*background-color: #00aaf1;*/\r\n }\r\n  .header{\r\n    text-align: left;\r\n    height: 128px;\r\n    position: relative;\r\n    line-height: 128px;\r\n    background-color: #efefef;\r\n    margin-bottom: 20px;\r\n    padding: 30px 50px;\r\n  }\r\n  .text{\r\n    display: inline-block;\r\n    width: 170px;\r\n    height: 100px;\r\n    position: absolute;\r\n    top: -20px;\r\n    left: 230px;\r\n  }\r\n  .tu{\r\n    overflow: hidden;\r\n    display: inline-block;\r\n  }\r\n  .name{\r\n    color: rgb(107,107,107);\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n  p{\r\n    width: 170px;\r\n    margin-top: 20px;\r\n    height: 10px;\r\n    font-size: 14px;\r\n    color: #da5278;\r\n  }\r\n  .season{\r\n    width: 920px;\r\n    height: 142px;\r\n    position: relative;\r\n    background-color: #efefef;\r\n    margin-bottom: 20px;\r\n    padding-left: 50px;\r\n    padding-top: 20px;\r\n  }\r\n  h3{\r\n    text-align: left;\r\n    color: #6b6b6b;\r\n  }\r\n  .change {\r\n    width: 120px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    margin-right: 10px;\r\n    float: left;\r\n    border: 1px solid #fff!important;\r\n    color: #fff!important;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    transition: all .4s ease 0s;\r\n    cursor: pointer;\r\n    background: #da5278!important;\r\n  }\r\n  .quanBu{\r\n    width: 120px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    margin-right: 10px;\r\n    float: left;\r\n    border: 1px solid #fff;\r\n    color: #fff;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    transition: all .4s ease 0s;\r\n    cursor: pointer;\r\n    background: #da5278;\r\n  }\r\n  .daiZhiFu{\r\n    transition: all .3s;\r\n    width: 120px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    margin-right: 10px;\r\n    float: left;\r\n    border: 1px solid #da5278;\r\n    color: #da5278;\r\n    padding: 0px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    background: 0 0;\r\n  }\r\n  .footer{\r\n    width: 920px;\r\n    background-color: #efefef;\r\n    padding-left: 50px;\r\n    padding-top: 20px;\r\n    padding-bottom: 20px;\r\n  }\r\n  table{\r\n    width: 920px;\r\n  }\r\n  th{\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    color: #6b6b6b;\r\n  }\r\n .daiZhiFu:hover{\r\n   color: whitesmoke;\r\n   background-color: #da5278;\r\n   transition: all .3s;\r\n }\r\n .footerorder {\r\n   text-align: center;\r\n }\r\n .footerorder td {\r\n  color: #6B6B6B;\r\n  font-family: \"微软雅黑\";\r\n  line-height: 30px;\r\n  font-size: 14px;\r\n  height: 20px;\r\n }\r\n .footerorder span {\r\n  color: #da5278;\r\n }\r\n .mem-btn {\r\n    width: 120px;\r\n    line-height: 28px;\r\n    border: 1px solid #da5278;\r\n    color: #da5278;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    transition: all .4s ease 0s;\r\n    cursor: pointer;\r\n    background: 0 0;\r\n }\r\n.mem-btn:hover {\r\n  color: aliceblue;\r\n  background-color: #da5278;\r\n}\r\n.el-button {\r\n    display: inline-block;\r\n    line-height: 1;\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    color: #606266;\r\n    -webkit-appearance: none;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    outline: 0;\r\n    margin: 0;\r\n    transition: .1s;\r\n    font-weight: 500;\r\n    padding: 5px 20px;\r\n    font-size: 14px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.drawbox {\r\n  width: 700px;\r\n  height: 120px;\r\n}\r\n.draw {\r\n  float: left;\r\n  padding-top: 50px;\r\n  padding-left: 40px;\r\n  padding-right: 50px;\r\n}\r\n.drawbox img {\r\n  float: left;\r\n  padding-top: 5px;\r\n  height: 100px;\r\n}\r\n</style>\r\n"]}]}