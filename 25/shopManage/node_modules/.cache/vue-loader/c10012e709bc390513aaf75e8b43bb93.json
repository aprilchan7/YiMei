{"remainingRequest":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\src\\components\\content\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\src\\components\\content\\order.vue","mtime":1595331006814},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FE_LEARNING_SPACE\\workmanage\\four\\shopmanage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gJ0AvdG9vbGtpdCcNCmltcG9ydCB7IGdldE15VXNlckluZm8gfSBmcm9tICdAL25ldHdvcmsvaG9tZScNCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IHsgYWRkT3JkZXIgfSBmcm9tICdAL25ldHdvcmsvb3JkZXInDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdvcmRlcicsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRvdGFsUHJpY2U6IDAsDQogICAgICBmcmVpZ2h0OiAwLA0KICAgICAgRGVsdGltZWlkOiAwLA0KICAgICAgdG90YWxTY29yZTogMCwNCiAgICAgIGRpc2FibGU6IGZhbHNlLA0KICAgICAgY2hlY2s6IGZhbHNlLA0KICAgICAgaW5wdXROdW06ICcnLA0KICAgICAgcmVhZDogZmFsc2UsDQogICAgICBjb252ZXJ0OiAwDQogICAgfQ0KICB9LA0KICB3YXRjaDoge30sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gY29uc29sZS5sb2codGhpcy5jaGVja2VkRGF0YVswXSkNCiAgICBnZXRNeVVzZXJJbmZvKCkudGhlbihyZXMgPT4gew0KICAgICAgdGhpcy50b3RhbFNjb3JlID0gcmVzLmRhdGEuZGF0YVswXS5TdW1TY29yZQ0KICAgICAgaWYgKHRoaXMudG90YWxTY29yZSA+PSA1MDApIHsNCiAgICAgICAgdGhpcy5kaXNhYmxlID0gZmFsc2UNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZGlzYWJsZSA9IHRydWUNCiAgICAgIH0NCiAgICAgIHRoaXMuY29udmVydCA9DQogICAgICAgIHRoaXMudG90YWxQcmljZSA+IHRoaXMudG90YWxTY29yZSAvIDEwMA0KICAgICAgICAgID8gdGhpcy50b3RhbFNjb3JlIC8gMTAwDQogICAgICAgICAgOiB0aGlzLnRvdGFsUHJpY2UNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudG90YWxTY29yZSkNCiAgICB9KQ0KDQogICAgLy8gIHRoaXMudG90YWxTY29yZSA9IGdldFVzZXJJbmZvKCkuU3VtU2NvcmU7DQogICAgdGhpcy5nZXRTaXRlTGlzdCgpDQogICAgdGhpcy5jYXJ0RGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICB0aGlzLnRvdGFsUHJpY2UgKz0gaXRlbS5wcm9kdWN0X1ByaWNlICogaXRlbS5udW0NCiAgICB9KQ0KICAgIGlmICh0aGlzLnRvdGFsUHJpY2UgPj0gODgpIHsNCiAgICAgIHRoaXMuZnJlaWdodCA9IDANCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5mcmVpZ2h0ID0gMTINCiAgICB9DQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBudW1GaWx0ZXIodmFsdWUpIHsNCiAgICAgIGxldCByZWFsVmFsID0gJycNCiAgICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSAnJykgew0KICAgICAgICAvLyDmiKrlj5blvZPliY3mlbDmja7liLDlsI/mlbDngrnlkI7kuKTkvY0NCiAgICAgICAgcmVhbFZhbCA9IHBhcnNlRmxvYXQodmFsdWUpLnRvRml4ZWQoMikNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJlYWxWYWwgPSAnLS0nDQogICAgICB9DQogICAgICByZXR1cm4gcmVhbFZhbA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoWydnZXRTaXRlTGlzdCddKSwNCiAgICBqaWZlbihldmVudCkgew0KICAgICAgbGV0IG51bSA9IE1hdGgucm91bmQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSkNCiAgICAgIGlmIChudW0gPCA1MDApIHsNCiAgICAgICAgdGhpcy5pbnB1dE51bSA9IDUwMA0KICAgICAgfQ0KICAgIH0sDQogICAgc2h1UnVKaUZlbihldmVudCkgew0KICAgICAgbGV0IG51bSA9IE1hdGgucm91bmQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSkNCiAgICAgIGlmIChudW0gPiA1MDApIHsNCiAgICAgICAgdGhpcy5pbnB1dE51bSA9IG51bSA+IHRoaXMuY29udmVydCAqIDEwMCA/IHRoaXMuY29udmVydCAqIDEwMCA6IG51bQ0KICAgICAgICBpZiAoL1teXGRdL2cudGVzdCh0aGlzLmlucHV0TnVtKSkgew0KICAgICAgICAgIHRoaXMuJHZ1eC50b2FzdC50ZXh0KHRoaXMuJHQoJ20ucmVjaGFyZ2Uub25seUludGVnZXInKSkNCiAgICAgICAgICB0aGlzLmlucHV0TnVtID0gJycNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbnB1dE51bSkNCiAgICB9LA0KICAgIGNoZWNrYm94KCkgew0KICAgICAgdGhpcy5jaGVjayA9ICF0aGlzLmNoZWNrDQogICAgICBpZiAodGhpcy5jaGVjayA9PSBmYWxzZSkgew0KICAgICAgICB0aGlzLmlucHV0TnVtID0gJycNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvaG9tZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpDQogICAgfSwNCiAgICBpbmRleFNlbGVjdChldmVudCkgew0KICAgICAgdGhpcy5EZWx0aW1laWQgPSBldmVudC50YXJnZXQudmFsdWUNCiAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC52YWx1ZSkNCiAgICB9LA0KICAgIHVwT3JkZXIoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhcnREYXRhKQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jYXJ0UHJvZHVjdHMpDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRlZmF1bHRTaXRlWzBdKQ0KICAgICAgaWYgKHRoaXMuZGVmYXVsdFNpdGVbMF0gIT0gdW5kZWZpbmVkKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXJ0RGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGZvciAobGV0IGogPSB0aGlzLmNhcnRQcm9kdWN0cy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkgew0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICB0aGlzLmNhcnREYXRhW2ldLmlkID09IHRoaXMuY2FydFByb2R1Y3RzW2pdLmlkICYmDQogICAgICAgICAgICAgIHRoaXMuY2FydERhdGFbaV0uVGl0bGUxdmFsdWUgPT0NCiAgICAgICAgICAgICAgICB0aGlzLmNhcnRQcm9kdWN0c1tqXS5UaXRsZTF2YWx1ZSAmJg0KICAgICAgICAgICAgICB0aGlzLmNhcnREYXRhW2ldLlRpdGxlMnZhbHVlID09IHRoaXMuY2FydFByb2R1Y3RzW2pdLlRpdGxlMnZhbHVlDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgdGhpcy5jYXJ0UHJvZHVjdHMuc3BsaWNlKGosIDEpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBwYXRoOiAnL3BheU9yZGVyJywNCiAgICAgICAgICBxdWVyeTogeyBvYmo6IHRoaXMudG90YWxQcmljZSAtIHRoaXMuaW5wdXROdW0gLyAxMDAgKyB0aGlzLmZyZWlnaHQgfQ0KICAgICAgICB9KQ0KICAgICAgICBsZXQgb3JkZXJMaXN0ID0gW10NCiAgICAgICAgdGhpcy5jYXJ0RGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgb3JkZXJMaXN0LnB1c2goew0KICAgICAgICAgICAgUElkOiB0aGlzLmNhcnREYXRhW2luZGV4XS5pZCwgLy8g6LSt5Lmw54mp5ZOBaWQNCiAgICAgICAgICAgIFByaWNlOiB0aGlzLmNhcnREYXRhW2luZGV4XS5wcm9kdWN0X1ByaWNlLCAvLyDllYblk4Hku7fmoLwNCiAgICAgICAgICAgIE51bTogdGhpcy5jYXJ0RGF0YVtpbmRleF0ubnVtLCAvLyDotK3kubDllYblk4HmlbDph48NCiAgICAgICAgICAgIFNjb3JlOiB0aGlzLmNhcnREYXRhW2luZGV4XS5TY29yZSwgLy8g6LSt5Lmw5ZWG5ZOB56ev5YiGDQogICAgICAgICAgICBJc19JbnZvaWM6IDAsIC8vIOaYr+WQpuW8gOWFt+WPkeelqA0KICAgICAgICAgICAgSW52b2ljX1R5cGU6IDEsIC8vIOWPkeelqOenjeexuw0KICAgICAgICAgICAgSVNfQ291cG9uOiAwLCAvLyDmmK/lkKbkvb/nlKjkvJjmg6DliLgNCiAgICAgICAgICAgIENvdXBvbl9JZDogMCwgLy8g5LyY5oOg5Yi4aWQNCiAgICAgICAgICAgIElzX0dpZnQ6IDAsIC8vIOaYr+WQpuS9v+eUqOekvOWTgeWNoQ0KICAgICAgICAgICAgR2lmdF9JZDogMCwgLy8g56S85ZOB5Y2h5L2/55SoaWQNCiAgICAgICAgICAgIFNlbmRfVHlwZTogMSwgLy8g6YWN6YCB5pa55byPDQogICAgICAgICAgICBQYXlfVHlwZV9JZDogdGhpcy5jaGVja2VkRGF0YVswXS5wYXlJZCwgLy8g5LuY5qy+5pa55byPaWQNCiAgICAgICAgICAgIEFkZHJlc3NfSUQ6IDEsIC8vIOaUtui0p+WcsOWdgGlkDQogICAgICAgICAgICBOZXdfTmFtZTogdGhpcy5kZWZhdWx0U2l0ZVswXS5TX05hbWUsDQogICAgICAgICAgICBOZXdfUHJvdmluY2U6IHRoaXMuZGVmYXVsdFNpdGVbMF0uUHJvdmluY2UsDQogICAgICAgICAgICBOZXdfQ2l0eTogdGhpcy5kZWZhdWx0U2l0ZVswXS5DaXR5LA0KICAgICAgICAgICAgTmV3X0FyZWE6IHRoaXMuZGVmYXVsdFNpdGVbMF0uQXJlYSwNCiAgICAgICAgICAgIE5ld19BZGRyZXNzOiB0aGlzLmRlZmF1bHRTaXRlWzBdLkFkZHJlc3MsDQogICAgICAgICAgICBOZXdfTWFpbDogdGhpcy5kZWZhdWx0U2l0ZVswXS5NYWlsLA0KICAgICAgICAgICAgTmV3X1Bob25lOiB0aGlzLmRlZmF1bHRTaXRlWzBdLlBob25lLA0KICAgICAgICAgICAgTmV3X1RlbDogdGhpcy5kZWZhdWx0U2l0ZVswXS5UZWwsDQogICAgICAgICAgICBEZWx0aW1lOiB0aGlzLkRlbHRpbWVpZCAvLyDpgIHotKfml7bpl7Tnp43nsbsNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgICBhZGRPcmRlcihvcmRlckxpc3QsIHRoaXMuaW5wdXROdW0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nmlLbotKflnLDlnYAnKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsnc2l0ZUxpc3QnLCAnY2FydERhdGEnLCAnY2hlY2tlZERhdGEnLCAnY2FydFByb2R1Y3RzJ10pLA0KICAgIGRlZmF1bHRTaXRlOiBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLnNpdGVMaXN0LmZpbHRlcihmdW5jdGlvbihzaXRlTGlzdCkgew0KICAgICAgICByZXR1cm4gc2l0ZUxpc3QuSXNfVHJ1ZSA9PSAxDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <div class=\"jiantou\">\r\n      <img\r\n        alt=\"大朴\"\r\n        src=\"http://p2.dapuimg.com/themes/blue/images/images/icons/logo2015.png\"\r\n        width=\"200\"\r\n        height=\"50\"\r\n        border=\"0\"\r\n        @click=\"tohome\"\r\n      />\r\n      <ol>\r\n        <li class=\"step1\">1、我的购物车</li>\r\n\r\n        <li class=\"step2 on\">2、填写核对订单信息</li>\r\n        <li class=\"step3\">3、成功提交订单</li>\r\n      </ol>\r\n    </div>\r\n    <div class=\"address\">\r\n      <div class=\"th\">\r\n        <span>收货人信息</span>\r\n        <router-link to=\"/PerCenter/ShiAddress\">修改</router-link>\r\n      </div>\r\n      <div v-for=\"item in defaultSite\" :key=\"item.id\">\r\n        <p>\r\n          <label>收货人姓名：</label>\r\n          <span>{{item.S_Name}}</span>\r\n        </p>\r\n        <p>\r\n          <label>收货人地区：</label>\r\n          <span>{{item.Province+'-'+item.City+'-'+item.Area}}</span>\r\n        </p>\r\n        <P>\r\n          <label>收货人地址：</label>\r\n          <span>{{item.Address}}</span>\r\n        </P>\r\n        <P>\r\n          <label>邮编：</label>\r\n          <span>{{item.Mail}}</span>\r\n        </P>\r\n        <P>\r\n          <label>手机：</label>\r\n          <span>{{item.Phone}}</span>\r\n        </P>\r\n        <P>\r\n          <label>固定电话：</label>\r\n          <span>{{item.Tel}}</span>\r\n        </P>\r\n        <P>\r\n          <label>送货时间：</label>\r\n          <select @change=\"indexSelect($event)\">\r\n            <option value=\"0\">工作日、双休日与假日均可送货</option>\r\n            <option value=\"1\">只工作日送货（双休日与假日不用送）</option>\r\n            <option value=\"2\">只双休日、假日送货（工作日不用送）</option>\r\n          </select>\r\n        </P>\r\n      </div>\r\n    </div>\r\n    <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\">\r\n        <span>配送及支付方式</span>\r\n        <router-link :to=\"{path:'/paybyway',query:{id:1}}\">修改</router-link>\r\n      </div>\r\n      <p>\r\n        <label>配送方式：</label>\r\n        <span>快递-{{checkedData[0].payway}}</span>\r\n      </p>\r\n      <p>\r\n        <label>付款方式：</label>\r\n        <span>网银-{{checkedData[0].whichway}}</span>\r\n      </p>\r\n    </div>\r\n    <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\">\r\n        <span>商品清单</span>\r\n        <a href>返回修改购物车</a>\r\n      </div>\r\n      <div class=\"xiangqing\" v-if=\"cartData!=''\">\r\n        <el-table\r\n          :data=\"cartData\"\r\n          :header-cell-style=\"{fontSize:'14px',color:'#6b6b6b'}\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column label=\"商品信息\">\r\n            <template slot-scope=\"scope\">\r\n              <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">\r\n                <img :src=\"scope.row.img\" alt style=\"float:left\" />\r\n              </router-link>\r\n              <div class=\"detail\">\r\n                <router-link\r\n                  :to=\"{ path: '/productdetails/' + scope.row.id }\"\r\n                >{{scope.row.product_Name}}</router-link>\r\n                <p>\r\n                  <span>{{scope.row.Title1+\" \"+scope.row.Title1value}}</span>\r\n                  <span\r\n                    v-if=\"scope.row.Title2!=''\"\r\n                  >{{\"、\"+scope.row.Title2+\"\"+scope.row.Title2value}}</span>\r\n                </p>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品单价\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              <span>¥{{scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品数量\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.num}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"小计\" width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n              <span>¥{{scope.row.num*scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    <div class=\"address\" style=\"margin-top:25px;\">\r\n      <div class=\"th\">\r\n        <span>结算信息</span>\r\n      </div>\r\n      <div style=\" height:200px\">\r\n        <div class=\"jiesuan\">\r\n          <div>\r\n            <strong>积分抵用</strong>\r\n          </div>\r\n          <p>使用规则：100积分可兑换1元（满500分可用）</p>\r\n          <p>\r\n            <span>您目前的积分数：</span>\r\n            <span style=\"color:#2980B9\">{{ totalScore }} 分</span>\r\n            <span>本次可兑换金额：</span>\r\n            <span style=\"color:#2980B9\">{{ convert }} 元</span>\r\n          </p>\r\n          <p v-if=\"this.totalScore<500\" style=\"color: red;\">不符合积分使用规则，无可用积分</p>\r\n          <div>\r\n            <input type=\"checkbox\" :disabled=\"disable\" :checked=\"check\" @click=\"checkbox\" />\r\n            <span>使用积分</span>\r\n            <span v-if=\"this.check==true\">(请输入需要兑换的积分数)</span>\r\n            <div v-if=\"this.check==true\">\r\n              <input\r\n                style=\"margin-top: 15px;\"\r\n                type=\"number\"\r\n                v-model=\"inputNum\"\r\n                value=\"inputNum\"\r\n                @input=\"shuRuJiFen($event)\"\r\n                @change=\"jifen($event)\"\r\n              />\r\n              <span>\r\n                (兑换金额:\r\n                <span style=\"color:#2980B9\">{{inputNum/100}}元</span>)\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"two\">\r\n          <div style=\"height:40px\"></div>\r\n          <div>\r\n            <label>商品金额</label>\r\n            <span>¥{{totalPrice}}</span>\r\n          </div>\r\n          <div>\r\n            <label>优惠金额</label>\r\n            <span>¥{{inputNum/100}}</span>\r\n          </div>\r\n          <div style=\"border-bottom:1px solid black\">\r\n            <label>配送金额</label>\r\n            <span>+¥{{freight}}</span>\r\n          </div>\r\n          <div\r\n            style=\"padding-top:20px;color:red;font-size:20px;text-align:right;margin-bottom：10px\"\r\n          >\r\n            <label>应付金额：</label>\r\n            <span\r\n              style=\"margin-left:0;margin-right:50px\"\r\n            >¥{{totalPrice-inputNum/100+freight | numFilter}}元</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"btn\" @click=\"upOrder\">提交订单</button>\r\n    <div class=\"clear\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getUserInfo } from '@/toolkit'\r\nimport { getMyUserInfo } from '@/network/home'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { addOrder } from '@/network/order'\r\nexport default {\r\n  name: 'order',\r\n  data() {\r\n    return {\r\n      totalPrice: 0,\r\n      freight: 0,\r\n      Deltimeid: 0,\r\n      totalScore: 0,\r\n      disable: false,\r\n      check: false,\r\n      inputNum: '',\r\n      read: false,\r\n      convert: 0\r\n    }\r\n  },\r\n  watch: {},\r\n  created() {\r\n    // console.log(this.checkedData[0])\r\n    getMyUserInfo().then(res => {\r\n      this.totalScore = res.data.data[0].SumScore\r\n      if (this.totalScore >= 500) {\r\n        this.disable = false\r\n      } else {\r\n        this.disable = true\r\n      }\r\n      this.convert =\r\n        this.totalPrice > this.totalScore / 100\r\n          ? this.totalScore / 100\r\n          : this.totalPrice\r\n      // console.log(this.totalScore)\r\n    })\r\n\r\n    //  this.totalScore = getUserInfo().SumScore;\r\n    this.getSiteList()\r\n    this.cartData.map((item, index) => {\r\n      this.totalPrice += item.product_Price * item.num\r\n    })\r\n    if (this.totalPrice >= 88) {\r\n      this.freight = 0\r\n    } else {\r\n      this.freight = 12\r\n    }\r\n  },\r\n  filters: {\r\n    numFilter(value) {\r\n      let realVal = ''\r\n      if (!isNaN(value) && value !== '') {\r\n        // 截取当前数据到小数点后两位\r\n        realVal = parseFloat(value).toFixed(2)\r\n      } else {\r\n        realVal = '--'\r\n      }\r\n      return realVal\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['getSiteList']),\r\n    jifen(event) {\r\n      let num = Math.round(event.currentTarget.value)\r\n      if (num < 500) {\r\n        this.inputNum = 500\r\n      }\r\n    },\r\n    shuRuJiFen(event) {\r\n      let num = Math.round(event.currentTarget.value)\r\n      if (num > 500) {\r\n        this.inputNum = num > this.convert * 100 ? this.convert * 100 : num\r\n        if (/[^\\d]/g.test(this.inputNum)) {\r\n          this.$vux.toast.text(this.$t('m.recharge.onlyInteger'))\r\n          this.inputNum = ''\r\n        }\r\n      }\r\n      // console.log(this.inputNum)\r\n    },\r\n    checkbox() {\r\n      this.check = !this.check\r\n      if (this.check == false) {\r\n        this.inputNum = ''\r\n      }\r\n    },\r\n    tohome() {\r\n      this.$router.push('/home')\r\n    },\r\n    indexSelect(event) {\r\n      this.Deltimeid = event.target.value\r\n      // console.log(event.target.value)\r\n    },\r\n    upOrder() {\r\n      // console.log(this.cartData)\r\n      // console.log(this.cartProducts)\r\n      // console.log(this.defaultSite[0])\r\n      if (this.defaultSite[0] != undefined) {\r\n        for (let i = 0; i < this.cartData.length; i++) {\r\n          for (let j = this.cartProducts.length - 1; j >= 0; j--) {\r\n            if (\r\n              this.cartData[i].id == this.cartProducts[j].id &&\r\n              this.cartData[i].Title1value ==\r\n                this.cartProducts[j].Title1value &&\r\n              this.cartData[i].Title2value == this.cartProducts[j].Title2value\r\n            ) {\r\n              this.cartProducts.splice(j, 1)\r\n            }\r\n          }\r\n        }\r\n        this.$router.push({\r\n          path: '/payOrder',\r\n          query: { obj: this.totalPrice - this.inputNum / 100 + this.freight }\r\n        })\r\n        let orderList = []\r\n        this.cartData.map((item, index) => {\r\n          orderList.push({\r\n            PId: this.cartData[index].id, // 购买物品id\r\n            Price: this.cartData[index].product_Price, // 商品价格\r\n            Num: this.cartData[index].num, // 购买商品数量\r\n            Score: this.cartData[index].Score, // 购买商品积分\r\n            Is_Invoic: 0, // 是否开具发票\r\n            Invoic_Type: 1, // 发票种类\r\n            IS_Coupon: 0, // 是否使用优惠券\r\n            Coupon_Id: 0, // 优惠券id\r\n            Is_Gift: 0, // 是否使用礼品卡\r\n            Gift_Id: 0, // 礼品卡使用id\r\n            Send_Type: 1, // 配送方式\r\n            Pay_Type_Id: this.checkedData[0].payId, // 付款方式id\r\n            Address_ID: 1, // 收货地址id\r\n            New_Name: this.defaultSite[0].S_Name,\r\n            New_Province: this.defaultSite[0].Province,\r\n            New_City: this.defaultSite[0].City,\r\n            New_Area: this.defaultSite[0].Area,\r\n            New_Address: this.defaultSite[0].Address,\r\n            New_Mail: this.defaultSite[0].Mail,\r\n            New_Phone: this.defaultSite[0].Phone,\r\n            New_Tel: this.defaultSite[0].Tel,\r\n            Deltime: this.Deltimeid // 送货时间种类\r\n          })\r\n        })\r\n        addOrder(orderList, this.inputNum)\r\n      } else {\r\n        this.$message.error('请选择收货地址')\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['siteList', 'cartData', 'checkedData', 'cartProducts']),\r\n    defaultSite: function() {\r\n      return this.siteList.filter(function(siteList) {\r\n        return siteList.Is_True == 1\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import '~assets/css/cart/order.scss';\r\n</style>"]}]}